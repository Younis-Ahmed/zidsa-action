{"version":3,"file":"index-CSRN5mAS.js","sources":["../node_modules/.pnpm/conventional-commits-filter@5.0.0/node_modules/conventional-commits-filter/dist/utils.js","../node_modules/.pnpm/conventional-commits-filter@5.0.0/node_modules/conventional-commits-filter/dist/RevertedCommitsFilter.js","../node_modules/.pnpm/conventional-commits-filter@5.0.0/node_modules/conventional-commits-filter/dist/filters.js"],"sourcesContent":["/**\n * Match commit with revert data\n * @param object - Commit object\n * @param source - Revert data\n * @returns `true` if commit matches revert data, otherwise `false`\n */\nexport function isMatch(object, source) {\n    let aValue;\n    let bValue;\n    for (const key in source) {\n        aValue = object[key];\n        bValue = source[key];\n        if (typeof aValue === 'string') {\n            aValue = aValue.trim();\n        }\n        if (typeof bValue === 'string') {\n            bValue = bValue.trim();\n        }\n        if (aValue !== bValue) {\n            return false;\n        }\n    }\n    return true;\n}\n/**\n * Find revert commit in set\n * @param commit\n * @param reverts\n * @returns Revert commit if found, otherwise `null`\n */\nexport function findRevertCommit(commit, reverts) {\n    if (!reverts.size) {\n        return null;\n    }\n    const rawCommit = commit.raw || commit;\n    for (const revertCommit of reverts) {\n        if (revertCommit.revert && isMatch(rawCommit, revertCommit.revert)) {\n            return revertCommit;\n        }\n    }\n    return null;\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXRpbHMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9zcmMvdXRpbHMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBS0E7Ozs7O0dBS0c7QUFDSCxNQUFNLFVBQVUsT0FBTyxDQUNyQixNQUFpQixFQUNqQixNQUFpQjtJQUVqQixJQUFJLE1BQWUsQ0FBQTtJQUNuQixJQUFJLE1BQWUsQ0FBQTtJQUVuQixLQUFLLE1BQU0sR0FBRyxJQUFJLE1BQU0sRUFBRTtRQUN4QixNQUFNLEdBQUcsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFBO1FBQ3BCLE1BQU0sR0FBRyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUE7UUFFcEIsSUFBSSxPQUFPLE1BQU0sS0FBSyxRQUFRLEVBQUU7WUFDOUIsTUFBTSxHQUFHLE1BQU0sQ0FBQyxJQUFJLEVBQUUsQ0FBQTtTQUN2QjtRQUVELElBQUksT0FBTyxNQUFNLEtBQUssUUFBUSxFQUFFO1lBQzlCLE1BQU0sR0FBRyxNQUFNLENBQUMsSUFBSSxFQUFFLENBQUE7U0FDdkI7UUFFRCxJQUFJLE1BQU0sS0FBSyxNQUFNLEVBQUU7WUFDckIsT0FBTyxLQUFLLENBQUE7U0FDYjtLQUNGO0lBRUQsT0FBTyxJQUFJLENBQUE7QUFDYixDQUFDO0FBRUQ7Ozs7O0dBS0c7QUFDSCxNQUFNLFVBQVUsZ0JBQWdCLENBQW1CLE1BQVMsRUFBRSxPQUFlO0lBQzNFLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxFQUFFO1FBQ2pCLE9BQU8sSUFBSSxDQUFBO0tBQ1o7SUFFRCxNQUFNLFNBQVMsR0FBRyxNQUFNLENBQUMsR0FBRyxJQUFJLE1BQU0sQ0FBQTtJQUV0QyxLQUFLLE1BQU0sWUFBWSxJQUFJLE9BQU8sRUFBRTtRQUNsQyxJQUFJLFlBQVksQ0FBQyxNQUFNLElBQUksT0FBTyxDQUFDLFNBQVMsRUFBRSxZQUFZLENBQUMsTUFBTSxDQUFDLEVBQUU7WUFDbEUsT0FBTyxZQUFZLENBQUE7U0FDcEI7S0FDRjtJQUVELE9BQU8sSUFBSSxDQUFBO0FBQ2IsQ0FBQyJ9","import { findRevertCommit } from './utils.js';\nexport class RevertedCommitsFilter {\n    hold = new Set();\n    holdRevertsCount = 0;\n    /**\n     * Process commit to filter reverted commits\n     * @param commit\n     * @yields Commit\n     */\n    *process(commit) {\n        const { hold } = this;\n        const revertCommit = findRevertCommit(commit, hold);\n        if (revertCommit) {\n            hold.delete(revertCommit);\n            this.holdRevertsCount--;\n            return;\n        }\n        if (commit.revert) {\n            hold.add(commit);\n            this.holdRevertsCount++;\n            return;\n        }\n        if (this.holdRevertsCount > 0) {\n            hold.add(commit);\n        }\n        else {\n            if (hold.size) {\n                yield* hold;\n                hold.clear();\n            }\n            yield commit;\n        }\n    }\n    /**\n     * Flush all held commits\n     * @yields Held commits\n     */\n    *flush() {\n        const { hold } = this;\n        if (hold.size) {\n            yield* hold;\n            hold.clear();\n        }\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiUmV2ZXJ0ZWRDb21taXRzRmlsdGVyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vc3JjL1JldmVydGVkQ29tbWl0c0ZpbHRlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDQSxPQUFPLEVBQUUsZ0JBQWdCLEVBQUUsTUFBTSxZQUFZLENBQUE7QUFFN0MsTUFBTSxPQUFPLHFCQUFxQjtJQUNmLElBQUksR0FBRyxJQUFJLEdBQUcsRUFBSyxDQUFBO0lBQzVCLGdCQUFnQixHQUFHLENBQUMsQ0FBQztJQUU3Qjs7OztPQUlHO0lBQ0gsQ0FBRSxPQUFPLENBQUMsTUFBUztRQUNqQixNQUFNLEVBQUUsSUFBSSxFQUFFLEdBQUcsSUFBSSxDQUFBO1FBQ3JCLE1BQU0sWUFBWSxHQUFHLGdCQUFnQixDQUFDLE1BQU0sRUFBRSxJQUFJLENBQUMsQ0FBQTtRQUVuRCxJQUFJLFlBQVksRUFBRTtZQUNoQixJQUFJLENBQUMsTUFBTSxDQUFDLFlBQVksQ0FBQyxDQUFBO1lBQ3pCLElBQUksQ0FBQyxnQkFBZ0IsRUFBRSxDQUFBO1lBQ3ZCLE9BQU07U0FDUDtRQUVELElBQUksTUFBTSxDQUFDLE1BQU0sRUFBRTtZQUNqQixJQUFJLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxDQUFBO1lBQ2hCLElBQUksQ0FBQyxnQkFBZ0IsRUFBRSxDQUFBO1lBQ3ZCLE9BQU07U0FDUDtRQUVELElBQUksSUFBSSxDQUFDLGdCQUFnQixHQUFHLENBQUMsRUFBRTtZQUM3QixJQUFJLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxDQUFBO1NBQ2pCO2FBQU07WUFDTCxJQUFJLElBQUksQ0FBQyxJQUFJLEVBQUU7Z0JBQ2IsS0FBSyxDQUFDLENBQUMsSUFBSSxDQUFBO2dCQUNYLElBQUksQ0FBQyxLQUFLLEVBQUUsQ0FBQTthQUNiO1lBRUQsTUFBTSxNQUFNLENBQUE7U0FDYjtJQUNILENBQUM7SUFFRDs7O09BR0c7SUFDSCxDQUFFLEtBQUs7UUFDTCxNQUFNLEVBQUUsSUFBSSxFQUFFLEdBQUcsSUFBSSxDQUFBO1FBRXJCLElBQUksSUFBSSxDQUFDLElBQUksRUFBRTtZQUNiLEtBQUssQ0FBQyxDQUFDLElBQUksQ0FBQTtZQUNYLElBQUksQ0FBQyxLQUFLLEVBQUUsQ0FBQTtTQUNiO0lBQ0gsQ0FBQztDQUNGIn0=","import { Transform } from 'stream';\nimport { RevertedCommitsFilter } from './RevertedCommitsFilter.js';\n/**\n * Filter reverted commits.\n * @param commits\n * @yields Commits without reverted commits.\n */\nexport async function* filterRevertedCommits(commits) {\n    const filter = new RevertedCommitsFilter();\n    for await (const commit of commits) {\n        yield* filter.process(commit);\n    }\n    yield* filter.flush();\n}\n/**\n * Filter reverted commits synchronously.\n * @param commits\n * @yields Commits without reverted commits.\n */\nexport function* filterRevertedCommitsSync(commits) {\n    const filter = new RevertedCommitsFilter();\n    for (const commit of commits) {\n        yield* filter.process(commit);\n    }\n    yield* filter.flush();\n}\n/**\n * Filter reverted commits stream.\n * @returns Reverted commits filter stream.\n */\nexport function filterRevertedCommitsStream() {\n    return Transform.from(filterRevertedCommits);\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZmlsdGVycy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uL3NyYy9maWx0ZXJzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxTQUFTLEVBQUUsTUFBTSxRQUFRLENBQUE7QUFFbEMsT0FBTyxFQUFFLHFCQUFxQixFQUFFLE1BQU0sNEJBQTRCLENBQUE7QUFFbEU7Ozs7R0FJRztBQUNILE1BQU0sQ0FBQyxLQUFLLFNBQVMsQ0FBQyxDQUFDLHFCQUFxQixDQUcxQyxPQUF1QztJQUV2QyxNQUFNLE1BQU0sR0FBRyxJQUFJLHFCQUFxQixFQUFLLENBQUE7SUFFN0MsSUFBSSxLQUFLLEVBQUUsTUFBTSxNQUFNLElBQUksT0FBTyxFQUFFO1FBQ2xDLEtBQUssQ0FBQyxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLENBQUE7S0FDOUI7SUFFRCxLQUFLLENBQUMsQ0FBQyxNQUFNLENBQUMsS0FBSyxFQUFFLENBQUE7QUFDdkIsQ0FBQztBQUVEOzs7O0dBSUc7QUFDSCxNQUFNLFNBQVMsQ0FBQyxDQUFDLHlCQUF5QixDQUd4QyxPQUFvQjtJQUVwQixNQUFNLE1BQU0sR0FBRyxJQUFJLHFCQUFxQixFQUFLLENBQUE7SUFFN0MsS0FBSyxNQUFNLE1BQU0sSUFBSSxPQUFPLEVBQUU7UUFDNUIsS0FBSyxDQUFDLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQTtLQUM5QjtJQUVELEtBQUssQ0FBQyxDQUFDLE1BQU0sQ0FBQyxLQUFLLEVBQUUsQ0FBQTtBQUN2QixDQUFDO0FBRUQ7OztHQUdHO0FBQ0gsTUFBTSxVQUFVLDJCQUEyQjtJQUN6QyxPQUFPLFNBQVMsQ0FBQyxJQUFJLENBQUMscUJBQXFCLENBQUMsQ0FBQTtBQUM5QyxDQUFDIn0="],"names":[],"mappings":"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","x_google_ignoreList":[0,1,2]}