{"version":3,"file":"index.js","sources":["../src/logger.ts","../src/token.ts","../src/api.ts","../src/login.ts","../src/getVersionBump.ts","../src/sdk.ts","../src/validation.ts","../src/zip-theme.ts","../src/update.ts","../src/utils.ts","../src/main.ts","../src/index.ts"],"sourcesContent":["import type { AnnotationProperties } from '@actions/core'\nimport {\n  error,\n  notice,\n  warning,\n} from '@actions/core'\n\nconst logger = {\n  log: (message: string, properties?: AnnotationProperties) => {\n    notice(message, properties)\n  },\n  error: (message: string, properties?: AnnotationProperties) => {\n    error(message, properties)\n  },\n  warning: (message: string, properties?: AnnotationProperties) => {\n    warning(message, properties)\n  },\n}\n\nexport default logger\n","import fs from 'node:fs'\nimport { homedir } from 'node:os'\nimport path from 'node:path'\nimport logger from './logger.js'\n\nconst homeDir = homedir()\nconst configDir = path.join(homeDir, '.zid-theme')\nexport const configPath = path.join(configDir, 'config.json')\n\nfunction getToken() {\n  if (fs.existsSync(configPath)) {\n    const config = JSON.parse(fs.readFileSync(configPath, 'utf8'))\n    if (config.access_token) {\n      return config.access_token\n    }\n  }\n  logger.log('No session found. Attempting login first.')\n  return null\n}\n\nfunction setToken(token: string) {\n  try {\n    // Create directory if it doesn't exist\n    if (!fs.existsSync(configDir)) {\n      fs.mkdirSync(configDir, { recursive: true })\n    }\n\n    // Write file synchronously to ensure proper return value\n    fs.writeFileSync(configPath, JSON.stringify({ access_token: token }))\n    return true\n  }\n  catch (err) {\n    logger.error(`Failed to save token: ${err}`)\n    return false\n  }\n}\n\nexport { getToken, setToken }\n","import FormData from 'form-data'\nimport logger from './logger.js'\nimport { getToken } from './token.js'\n\nclass Api {\n  private baseUrl = ''\n  private headers = {} as Record<string, string>\n  private route = ''\n  private method = 'GET'\n  private body: unknown = {}\n  private token = ''\n  private params = '' as string\n  private key = '' as string\n\n  constructor() {\n    this.token = getToken()\n  }\n\n  public addBaseUrl(baseUrl?: string) {\n    this.baseUrl = baseUrl || 'https://api.zid.sa/v1'\n    return this\n  }\n\n  public addParams(params?: { key: string, value: string | string[] }[]) {\n    params\n    && params.length > 0\n    && params?.map(\n      ({ key, value }) =>\n        (this.params += `${this.params === '' ? '?' : '&'}${key}=${\n          Array.isArray(value) ? value.join(',') : value\n        }`),\n    )\n    return this\n  }\n\n  public addFormData(formData: FormData) {\n    this.body = formData\n    this.headers['Content-Type'] = 'multipart/form-data'\n    return this\n  }\n\n  public addKey(key: string) {\n    this.key = this.key ? `${this.key}/${key}` : `/${key}`\n    return this\n  }\n\n  public addHeaders(headers: { key: string, value: string }[]) {\n    headers.forEach(({ key, value }) => (this.headers[key] = value))\n    return this\n  }\n\n  public addUserToken() {\n    this.headers['x-partner-token'] = `${this.token}`\n    return this\n  }\n\n  public addRoute(endpoint: string) {\n    this.route = `${this.baseUrl}${endpoint}`\n    return this\n  }\n\n  public addBody(body: unknown) {\n    this.body = body\n    if (!(body instanceof FormData)) {\n      this.headers['Content-Type'] = 'application/json'\n    }\n    return this\n  }\n\n  public post() {\n    this.method = 'POST'\n    return this\n  }\n\n  public get() {\n    this.method = 'GET'\n    return this\n  }\n\n  public put() {\n    this.method = 'PUT'\n    return this\n  }\n\n  public delete() {\n    this.method = 'DELETE'\n    return this\n  }\n\n  public reset() {\n    this.baseUrl = ''\n    this.headers = {}\n    this.route = ''\n    this.method = 'GET'\n    this.body = {}\n    this.params = ''\n    this.key = ''\n    return this\n  }\n\n  public async send<T = unknown>(): Promise<T> {\n    const url = `${this.route}${this.key}${this.params}`\n    const options = {\n      method: this.method,\n      headers: this.headers,\n      body: this.method !== 'GET' ? JSON.stringify(this.body) : undefined,\n    }\n\n    try {\n      const response = await fetch(url, options)\n\n      if (!response.ok) {\n        if (response.status === 401) {\n          logger.error('Token expired, please login again')\n          throw new Error('Token expired, please login again')\n        }\n\n        const data = await response.json()\n        const message\n          = typeof data === 'object' && data !== null && 'message' in data\n            ? (data.message as string)\n            : `Request failed with status ${response.status}`\n        throw new Error(message)\n      }\n\n      return (await response.json()) as T\n    }\n    catch (error) {\n      let errorMessage: string\n      if (error instanceof Error) {\n        errorMessage = error.message\n      }\n      else {\n        try {\n          errorMessage = JSON.stringify(error)\n        }\n        catch {\n          errorMessage = String(error)\n        }\n      }\n      logger.error(`API request failed: ${errorMessage}`)\n      throw new Error(errorMessage)\n    }\n  }\n}\n\nexport default Api\n","import Api from './api.js'\nimport logger from './logger.js'\nimport { setToken } from './token.js'\n\ninterface LoginResponse {\n  partner?: {\n    'x-partner-token'?: string\n    [key: string]: any\n  }\n  [key: string]: any\n}\n\nexport async function login(email: string, password: string): Promise<void> {\n  return new Api()\n    .reset()\n    .addBaseUrl()\n    .addRoute('/market/partner-login')\n    .addHeaders([{ key: 'Content-Type', value: 'application/json' }])\n    .addBody({\n      email,\n      password,\n    })\n    .post()\n    .send<LoginResponse>()\n    .then(({ partner }) => {\n      if (partner && partner['x-partner-token']) {\n        if (!setToken(partner['x-partner-token'])) {\n          logger.error('Failed to save token.')\n          throw new Error('Failed to save token')\n        }\n        logger.log('Authentication successful!')\n      }\n      else {\n        logger.error('Authentication failed. Invalid response from server.')\n        throw new Error('Invalid response from server')\n      }\n    })\n    .catch((error) => {\n      logger.error('Authentication failed')\n      throw error\n    })\n}\n","import type { BumperRecommendation } from 'conventional-recommended-bump'\nimport {\n  Bumper,\n} from 'conventional-recommended-bump'\n\nexport async function getVersionBump(\n  build_path: string,\n): Promise<BumperRecommendation> {\n  const bumper = new Bumper(build_path).loadPreset('angular')\n  const recommendation = await bumper.bump()\n\n  return recommendation\n}\n","interface SDKStructure {\n  root: string[]\n  templates: string[]\n  common: string[]\n  modules: string[]\n  assets: string[]\n  locals: string[]\n  [key: string]: string[]\n}\n\nconst structure: SDKStructure = {\n  root: [\n    'query.json',\n    'config.json',\n    'layout.twig',\n    'header.twig',\n    'footer.twig',\n    'templates',\n    'modules',\n    'locals',\n    'common',\n    'assets',\n  ],\n  templates: [\n    '404.twig',\n    'account-addresses.twig',\n    'account-orders.twig',\n    'account-profile.twig',\n    'blog.twig',\n    'blogs.twig',\n    'categories.twig',\n    'category.twig',\n    'faqs.twig',\n    'cart.twig',\n    'home.twig',\n    'product.twig',\n    'products.twig',\n    'search.twig',\n    'shipping-and-payments.twig',\n  ],\n  common: ['.twig'],\n  modules: ['.twig'],\n  assets: [\n    '.js',\n    '.ts',\n    '.css',\n    '.scss',\n    '.map',\n    '.png',\n    '.jpg',\n    '.jpeg',\n    '.gif',\n    '.svg',\n    '.woff',\n    '.woff2',\n    '.otf',\n    '.ttf',\n    '.eot',\n  ],\n  locals: ['.json'],\n}\n\nconst optional_root_files: string[] = ['query.json', 'modules']\n\nconst optional_files: SDKStructure = {\n  root: ['query.json', 'config.json', 'modules'],\n  templates: ['search.twig', 'blogs.twig'],\n  common: [],\n  modules: [],\n  assets: [],\n  locals: [],\n}\n\nconst root_allowed_files: string[] = [\n  'query.json',\n  'config.json',\n  'layout.twig',\n  'header.twig',\n  'footer.twig',\n]\n\nconst need_structure_validation: string[] = ['templates']\n\nconst MAX_ASSETS_FILE_SIZE_2MB: number = 2 * 1000000\n\nconst MAX_ZIP_FILE_SIZE_50MB: number = 50 * 1000000\n\nconst sdk = {\n  structure,\n  optional_root_files,\n  optional_files,\n  root_allowed_files,\n  need_structure_validation,\n  MAX_ASSETS_FILE_SIZE_2MB,\n  MAX_ZIP_FILE_SIZE_50MB,\n}\n\nexport default sdk\n","import fs from 'node:fs'\nimport path from 'node:path'\nimport logger from './logger.js'\nimport sdk from './sdk.js'\n\nexport function validateTheme(build_path: string): Promise<string> {\n  return new Promise((resolve, reject) => {\n    const files = fs.readdirSync(build_path)\n\n    const valid_structure = validate_structure('root', files, sdk.structure.root)\n    if (valid_structure !== true) {\n      // TODO: Add summary for github actions output\n      return reject(\n        new Error(`Unable to find:\\n   ${valid_structure}\\n\\n   - Make sure theme path is correct or add required files\\n`),\n      )\n    }\n\n    for (const file of files) {\n      const file_data = { filename: file, path: path.resolve(build_path, file) }\n      let stats = null\n      file === '.DS_Store'\n        ? delete_ds_store(file_data.path)\n        : (stats = fs.lstatSync(file_data.path))\n\n      if (stats && stats.isDirectory() && sdk.structure.root.includes(file)) {\n        const subdir_files = fs.readdirSync(file_data.path)\n\n        if (sdk.need_structure_validation.includes(file)) {\n          const valid_structure = validate_structure(\n            file,\n            subdir_files,\n            sdk.structure[file],\n          )\n          if (valid_structure !== true) {\n            return reject(\n              new Error(`Unable to find in templates folder:\\n   ${valid_structure}\\n\\n   - Make sure theme path is correct or add required files\\n`),\n            )\n          }\n        }\n\n        for (const subdir_file of subdir_files) {\n          const subdir_file_path = path.resolve(file_data.path, subdir_file)\n\n          if (subdir_file === '.DS_Store') {\n            delete_ds_store(subdir_file_path)\n            continue\n          }\n\n          if (file === 'assets')\n            validate_assets_file_size(subdir_file, subdir_file_path)\n\n          if (!sdk.need_structure_validation.includes(file)) {\n            const valid_ext = validate_extension(subdir_file, sdk.structure[file])\n            if (valid_ext !== true) {\n              return reject(\n                new Error(`Invalid extension ${valid_ext}\\n   ${subdir_file} in ${file} folder\\n`),\n              )\n            }\n          }\n        }\n      }\n    }\n\n    return resolve(`Theme validated`)\n  })\n}\n\nfunction validate_structure(file: string, files: string[], structure: string[]): string | boolean {\n  const missed_files: string[] = []\n\n  for (let i = 0; i < structure.length; i++) {\n    if (\n      !files.includes(structure[i])\n      && !sdk.optional_files[file].includes(structure[i])\n    ) {\n      missed_files.push(structure[i])\n    }\n  }\n\n  if (missed_files.length === 0)\n    return true\n  return JSON.stringify(missed_files)\n}\n\nfunction validate_extension(file: string, base_structure_extnames: string[]): string | boolean {\n  const file_ext = path.extname(file)\n  if (!base_structure_extnames.includes(file_ext))\n    return file_ext\n  return true\n}\n\nexport function validate_assets_file_size(file: string, filepath: string): void {\n  const stats = fs.lstatSync(filepath)\n  if (stats.size >= sdk.MAX_ASSETS_FILE_SIZE_2MB) {\n    logger.warning(\n      `WARNING: ${file} in assets is larger than 2MB: ${formatSizeUnits(stats.size)}`,\n    )\n  }\n}\n\nfunction delete_ds_store(file_path: string) {\n  fs.unlinkSync(file_path)\n  logger.warning(`.DS_Store deleted - path: ${file_path}\\n\\n`)\n}\n\nexport function formatSizeUnits(bytes: number): string {\n  if (bytes >= 1073741824)\n    return `${(bytes / 1_000_000_000).toFixed(2)}GB`\n  if (bytes >= 1048576)\n    return `${(bytes / 1_000_000).toFixed(2)}MB`\n  if (bytes >= 1024)\n    return `${(bytes / 1_000).toFixed(2)}KB`\n  if (bytes > 1)\n    return `${bytes} bytes`\n  if (bytes === 1)\n    return `${bytes} byte`\n  return '0 bytes'\n}\n","import fs from 'node:fs'\nimport path from 'node:path'\nimport archiver from 'archiver'\nimport { getVersionBump } from './getVersionBump.js'\nimport logger from './logger.js'\nimport sdk from './sdk.js'\nimport { formatSizeUnits, validateTheme } from './validation.js'\n\nconst archive = archiver('zip')\n\nasync function zip_theme(build_name: string, build_path: string): Promise<ReturnType<typeof getVersionBump>> {\n  const zipfile_path = path.resolve(build_path, `${build_name}.zip`)\n\n  try {\n    const valid_theme = await validateTheme(build_path)\n    logger.log(valid_theme)\n  }\n  catch (error) {\n    throw new Error(error instanceof Error ? error.message : String(error))\n  }\n\n  const output = fs.createWriteStream(zipfile_path)\n\n  output.on('finish', () => {\n    if (archive.pointer() >= sdk.MAX_ZIP_FILE_SIZE_50MB) {\n      fs.rmSync(zipfile_path)\n      logger.warning(`Total size: ${formatSizeUnits(archive.pointer())}`)\n      logger.error(`${build_name}.zip has to be less than 50MB`)\n    }\n\n    logger.log(`Total size: ${formatSizeUnits(archive.pointer())}`)\n    logger.log(`${build_name}.zip successfully created ðŸŽ‰!\\n`)\n  })\n\n  archive.pipe(output)\n\n  sdk.root_allowed_files.forEach((file) => {\n    const file_path = path.resolve(build_path, file)\n\n    if (fs.existsSync(file_path)) {\n      archive.append(fs.createReadStream(file_path), { name: file })\n    }\n  })\n\n  for (const folder in sdk.structure) {\n    const folder_path = path.resolve(build_path, folder)\n\n    if (folder !== 'root' && fs.existsSync(folder_path)) {\n      const files = fs.readdirSync(folder_path)\n\n      archive.append('', { name: `${folder}/` })\n\n      files.forEach((file) => {\n        const file_path = path.resolve(build_path, folder, file)\n        archive.append(fs.createReadStream(file_path), {\n          name: `${folder}/${file}`,\n        })\n      })\n    }\n  }\n\n  await archive.finalize()\n\n  const bumpRecommendation = await getVersionBump(build_path)\n  logger.log(`Version bump recommendation: ${JSON.stringify(bumpRecommendation, null, 2)}`)\n\n  return {\n    ...bumpRecommendation,\n  }\n}\n\nexport default zip_theme\n","import fs from 'node:fs'\nimport path from 'node:path'\nimport process from 'node:process'\nimport FormData from 'form-data'\nimport Api from './api.js'\nimport logger from './logger.js'\nimport zip_theme from './zip-theme.js'\n\nexport interface TArguments {\n  theme_id: string\n  change_type: 'major' | 'minor' | 'patch'\n  release_notes: string\n}\n\nexport default async function updateTheme(\n  theme_id: string,\n  theme_path: string,\n): Promise<any> {\n  process.chdir(theme_path)\n  const { releaseType, reason } = await zip_theme('theme', theme_path)\n  const api = new Api()\n  const form = new FormData()\n  const fileStream = fs.createReadStream(theme_path)\n\n  return new Promise((resolve, reject) => {\n    fileStream.on('error', (err) => {\n      logger.error('File stream error')\n      reject(err) // Reject promise on stream error\n    })\n\n    fileStream.on('open', () => {\n      form.append('theme_file', fileStream, path.basename(theme_path))\n      form.append('change_type', releaseType)\n      form.append('release_notes', reason)\n\n      api\n        .reset()\n        .addBaseUrl()\n        .addRoute(`/partners/themes/cli_update/${theme_id}`)\n        .addUserToken()\n        .addFormData(form)\n        .post()\n        .send()\n        .then(resolve)\n        .catch((err) => {\n          logger.error('Error during API call')\n          reject(err) // Reject promise on API error\n        })\n    })\n  })\n}\n","import process from 'node:process'\nimport { getInput } from '@actions/core'\n\nexport type VariableKey = 'EMAIL' | 'PASSWORD' | 'THEME_ID'\n\nexport interface Variables {\n  EMAIL: string\n  PASSWORD: string\n  THEME_ID: string\n}\n\n/**\n * Gets values for the specified GitHub Action input variables\n * @param variables Array of variable keys to retrieve\n * @returns Object containing the requested variables and their values\n */\nexport function getVariables<T extends VariableKey>(\n  variables: T[],\n): Pick<Variables, T> {\n  return variables.reduce(\n    (acc, variable) => {\n      acc[variable] = getInput(variable)\n      return acc\n    },\n    {} as Pick<Variables, T>,\n  )\n}\n\n/**\n * Gets the workspace directory path from checkout-out files\n * @returns The path to the workspace directory\n */\nexport function getWorkspacePath(): string {\n  return process.env.GITHUB_WORKSPACE || '.'\n}\n","import * as core from '@actions/core'\nimport { login } from './login.js'\nimport updateTheme from './update.js'\nimport { getVariables, getWorkspacePath } from './utils.js'\n\n/**\n * The main function for the action.\n *\n * @returns Resolves when the action is complete.\n */\nexport async function run(): Promise<void> {\n  try {\n    const variables = getVariables(['EMAIL', 'PASSWORD', 'THEME_ID'])\n    const workspacePath = getWorkspacePath()\n    await login(variables.EMAIL, variables.PASSWORD)\n    await updateTheme(variables.THEME_ID, workspacePath)\n\n    // Log a success message\n    core.info('Theme updated successfully')\n    core.setOutput('success', 'true')\n  }\n  catch (error) {\n    // Fail the workflow run if an error occurs\n    if (error instanceof Error) {\n      core.setFailed(error.message)\n    }\n    else {\n      // Handle non-Error exceptions too\n      core.setFailed(`An unexpected error occurred: ${String(error)}`)\n    }\n  }\n}\n","/**\n * The entrypoint for the action. This file simply imports and runs the action's\n * main logic.\n */\nimport { run } from './main.js'\n\nrun()\n"],"names":[],"mappings":"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"}